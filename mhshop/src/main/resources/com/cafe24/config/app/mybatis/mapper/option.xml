<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="option">

	<!-- 옵션 리스트 -->
	<select id="selectList" parameterType="long" resultType="optionvo">
		select
		no,
		item_no as itemNo,
		option_detail1 as optionDetailNo1,
		option_detail2 as optionDetailNo2,
		cnt
		from option
		where item_no=#{itemNo}
		order by no asc
	</select>
	
	
	<!-- 상세옵션을 가지는 옵션 개수 -->
	<select id="countByOptionDetailNo" parameterType="long" resultType="Integer">
		select count(*) from option where option_detail1=#{no} or option_detail2=#{no}
	</select>

	
	<!-- 옵션추가 -->
	<insert id="insert" parameterType="optionvo">
		insert into option(item_no, option_detail1, option_detail2, cnt)
		values(
		#{itemNo},
		#{optionDetailNo1},
		#{optionDetailNo2},
		#{cnt}
		)
	</insert>
	
	
	<!-- 옵션삭제 -->
	<delete id="delete" parameterType="long">
		delete from option where no=#{no}
	</delete>

</mapper>
